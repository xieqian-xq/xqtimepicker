/*!
 * jquery.xqtimepicker v1.0.0
 * Copyright 2021 .
 * Licensed under the  license
 */
"use strict";!function(c){var e="xq-",n="xqTimePicker"+Math.random().toString().slice(2,12),o=null,s=!1;function i(){r.show(),r.setValue(),r.location()}function a(){u.getTimePicker().hide(),s=!1}c.extend({$timePicker:function(t){console.log(t)}}),c.fn.extend({timePicker:function(t){console.log("option",t),this.each(function(){c(this).on("click",function(){o=this,i(),i.call(this)})})}});var r={show:function(){var t;0===u.getTimePicker().length&&(t=l.get(),c("body").append(t),h.init())},reset:function(){u.getTimePicker().find(".active").removeClass("active"),u.getTimePickerHour().scrollTop(0),u.getTimePickerMinute().scrollTop(0)},setValue:function(){var t=c(o).val();this.reset(),/^\d{2}:\d{2}$/.test(t)&&this.setStatus(t)},setStatus:function(t){var i=t.split(":"),t=i[0],i=i[1],t=u.getTimePickerHour().find("li:contains(".concat(t,")")),i=u.getTimePickerMinute().find("li:contains(".concat(i,")"));t.addClass("active"),i.addClass("active"),this.scrollFixedPositionByElement(t),this.scrollFixedPositionByElement(i)},scrollFixedPositionByElement:function(t){var i=1<arguments.length&&void 0!==arguments[1]&&arguments[1],n=c(t),e=n.index(),t=n[0].scrollHeight,t=t*e-3*t;n.parent().animate({scrollTop:t},i?300:0)},location:function(){var t=r.getMaxZIndex();u.getTimePicker().css({display:"block",zIndex:t+100}),this.locationPosition(),s=!0},locationPosition:function(){var t=o.offsetLeft,i=o.offsetTop+o.offsetHeight+5;u.getTimePicker().css({left:t,top:i})},getMaxZIndex:function(){return Math.max.apply(null,c.map(c("body *"),function(t,i){return"static"!=c(t).css("position")?parseInt(c(t).css("z-index"))||1:-1}))}},u={getTimePickerHour:function(){return this.getTimePicker().find(".".concat(e,"time-picker-hour"))},getTimePickerMinute:function(){return this.getTimePicker().find(".".concat(e,"time-picker-minute"))},getTimePicker:function(){return c("#".concat(n))}},l={get:function(){var t=[];return t.push('<div id="'.concat(n,'" class="').concat(e,'time-picker">')),t.push(this.header()),t.push(this.body()),t.push(this.footer()),t.push("</div>"),t.join("")},header:function(){var t=[];return t.push('<div class="'.concat(e,'time-picker-header">')),t.push("<span>时</span>"),t.push("<span>分</span>"),t.push("</div>"),t.join("")},body:function(){var t=[];return t.push('<div class="'.concat(e,'time-picker-body">')),t.push(this.hour()),t.push(this.minute()),t.push("</div>"),t.join("")},footer:function(){var t=[];return t.push('<div class="'.concat(e,'time-picker-footer">')),t.push(this.button("取消","cancel")),t.push(this.button("现在","now")),t.push(this.button("确认","ok")),t.push("</div>"),t.join("")},hour:function(t){var i=[];i.push('<ul class="'.concat(e,'time-picker-hour">'));for(var n=0;n<24;n++)n===t?i.push('<li class="active">'.concat(f.formatTime(n),"</li>")):i.push("<li>".concat(f.formatTime(n),"</li>"));return i.push("</ul>"),i.join("")},minute:function(t){var i=[];i.push('<ul class="'.concat(e,'time-picker-minute">'));for(var n=0;n<60;n++)n===t?i.push('<li class="active">'.concat(f.formatTime(n),"</li>")):i.push("<li>".concat(f.formatTime(n),"</li>"));return i.push("</ul>"),i.join("")},button:function(t,i){return'<button class="'.concat(e,"time-picker-button ").concat(i,'" data-type="').concat(i,'">').concat(t,"</button>")}},h={init:function(){var i=this;c(window).resize(function(){s&&r.locationPosition()}),u.getTimePicker().find(".".concat(e,"time-picker-body")).hover(function(){c(this).addClass("hover")},function(){c(this).removeClass("hover")}),c("#".concat(n," .").concat(e,"time-picker-button")).click(function(){var t=c(this).data("type");i[t]&&i[t].call(this)}),c("#".concat(n," .").concat(e,"time-picker-body")).on("click","li",function(){c(this).addClass("active").siblings().removeClass("active"),r.scrollFixedPositionByElement(this,!0)})},cancel:function(){a()},now:function(){c(o).val(f.getNowTime()),a()},ok:function(){var t=h,i=t.getHour(),t=t.getMinute();c(o).val("".concat(i,":").concat(t)),a()},getHour:function(){var t=c("#".concat(n," .").concat(e,"time-picker-hour li.active"));return 0<t.length?c(t).html():"00"},getMinute:function(){var t=c("#".concat(n," .").concat(e,"time-picker-minute li.active"));return 0<t.length?c(t).html():"00"}},f={formatTime:function(t){return("0000"+t.toString()).slice(-2)},getNowTime:function(){var t=new Date;return"".concat(this.formatTime(t.getHours()),":").concat(this.formatTime(t.getMinutes()))}}}((window,jQuery));